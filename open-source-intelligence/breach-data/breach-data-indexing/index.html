<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-open-source-intelligence/breach-data/breach-data-indexing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Breach Data Indexing | Portfolio</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.harisqazi.com/img/blog_image.cleaned.jpeg"><meta data-rh="true" name="twitter:image" content="https://www.harisqazi.com/img/blog_image.cleaned.jpeg"><meta data-rh="true" property="og:url" content="https://www.harisqazi.com/open-source-intelligence/breach-data/breach-data-indexing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Breach Data Indexing | Portfolio"><meta data-rh="true" name="description" content="Indexing Breach Data using search platforms"><meta data-rh="true" property="og:description" content="Indexing Breach Data using search platforms"><link data-rh="true" rel="icon" href="/img/HQ-Logo-Dark.png"><link data-rh="true" rel="canonical" href="https://www.harisqazi.com/open-source-intelligence/breach-data/breach-data-indexing"><link data-rh="true" rel="alternate" href="https://www.harisqazi.com/open-source-intelligence/breach-data/breach-data-indexing" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.harisqazi.com/open-source-intelligence/breach-data/breach-data-indexing" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Portfolio RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Portfolio Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Portfolio JSON Feed"><link rel="stylesheet" href="/assets/css/styles.03fad3ea.css">
<script src="/assets/js/runtime~main.54c31341.js" defer="defer"></script>
<script src="/assets/js/main.76b4cc88.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.harisqazi.com/" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/HQ-Logo-Light.png" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/HQ-Logo-Dark.png" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Haris Qazi</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Portfolio</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/harisqazi1/portfolio" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/privacy">Privacy Policy</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/configurations">Configurations</a><button aria-label="Expand sidebar category &#x27;Configurations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/operations-security-opsec">Operations Security (OPSEC)</a><button aria-label="Expand sidebar category &#x27;Operations Security (OPSEC)&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/category/open-source-intelligence-osint">Open-Source Intelligence (OSINT)</a><button aria-label="Collapse sidebar category &#x27;Open-Source Intelligence (OSINT)&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/category/breach-data">Breach Data</a><button aria-label="Collapse sidebar category &#x27;Breach Data&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/open-source-intelligence/breach-data/leveraging-breach-data">Leveraging Breach Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/open-source-intelligence/breach-data/breach-data-indexing">Breach Data Indexing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/open-source-intelligence/breach-data/breach-data-infrastructure">Breach Data Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/open-source-intelligence/breach-data/stealer-logs">Stealer Logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/open-source-intelligence/breach-data/containerization">Containerization</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/category/transportation">Transportation</a><button aria-label="Expand sidebar category &#x27;Transportation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/category/red-team-operations">Red Team Operations</a><button aria-label="Expand sidebar category &#x27;Red Team Operations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/open-source-intelligence-osint"><span itemprop="name">Open-Source Intelligence (OSINT)</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/category/breach-data"><span itemprop="name">Breach Data</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Breach Data Indexing</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Breach Data Indexing</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="background">Background<a href="#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background">​</a></h2>
<p>I was participating in a TraceLabs event, and was using <a href="https://github.com/BurntSushi/ripgrep" target="_blank" rel="noopener noreferrer">ripgrep</a> to search the data in a breach compilation. ripgrep is much faster than grep, however the search took me 50 minutes to complete. For events like TraceLabs, 50 minutes is not time you have to waste, especially when it is being done for a good cause. Talking with AccessOSINT, me and him discussed how Michael Bazzell has mentioned having really quick searches through breach and stealer log data in his podcast. This got me motivated to actually look into solutions for how to search through breach data much faster.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="search-engines">Search Engines<a href="#search-engines" class="hash-link" aria-label="Direct link to Search Engines" title="Direct link to Search Engines">​</a></h2>
<p>Whenever I think about Search Engines, the first idea that came to my mind was Google or DuckDuckGo. These services search an index of URLs and provide answers based on your search query. I ended up using search engine services myself to parse through breach data. These search engines index all of your data, so you can search through it much faster. However, before using a search engine, you have to format the data to be digestible by the search engine. I will use two search engines in this blog: Meilisearch and Elasticsearch (more importantly, the ELK stack).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="meilisearch">Meilisearch<a href="#meilisearch" class="hash-link" aria-label="Direct link to Meilisearch" title="Direct link to Meilisearch">​</a></h2>
<p><a href="https://www.meilisearch.com/" target="_blank" rel="noopener noreferrer">Meilisearch</a> is a search engine tool that can be hosted locally to parse though data you put into it. Read the <a href="https://docs.meilisearch.com/learn/advanced/known_limitations.html" target="_blank" rel="noopener noreferrer">known limitations</a> before you go with this solution. Here are the commands and steps I used to get it up and running:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup">Setup<a href="#setup" class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Download and Install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-L</span><span class="token plain"> https://install.meilisearch.com </span><span class="token operator">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./meilisearch --no-analytics</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># --no-analytics to remove analystics being sent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># https://docs.meilisearch.com/learn/what_is_meilisearch/telemetry.html#how-to-disable-data-collection</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The first time you run the code, you will get a master key. Save this somewhere as you will need it later.</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image3232-93d7c8ee0b96f30e4702c287dbc5c1a4.png" width="977" height="242" class="img_ev3q"></p>
<p>This is the command I ended up using for set up:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./meilisearch --no-analytics --master-key</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;enter key here&gt;&quot;</span><span class="token plain">  --http-payload-size-limit </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;10Gb&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># --no-analytics to remove analyics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># --master-key=&quot;&lt;enter key here&gt;&quot; needed to run the code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># --http-payload-size-limit &#x27;10Gb&#x27; to allow you to add large documents</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/assets/images/image16-119ae54ffe71574ad8dd20cc4f311722.png" width="1076" height="554" class="img_ev3q"></p>
<p>At this point, you should be able to access the web interface:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image72-03f66d6e0f72658579990954644cea18.png" width="1135" height="787" class="img_ev3q"></p>
<p>Here you enter your master key you had gotten earlier. You have now set up Meilisearch.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-index-and-adding-data">Creating an Index and adding Data<a href="#creating-an-index-and-adding-data" class="hash-link" aria-label="Direct link to Creating an Index and adding Data" title="Direct link to Creating an Index and adding Data">​</a></h3>
<p>Indexes are basically the main group that the data falls under. Meilisearch uses movies as an example. Under the index, you then have all of your data. Meilisearch accepts the following formats of data: JSON, NDJSON, CSV. They all have their own syntax for how to send it into Meilisearch.</p>
<p>I will be creating an index called &quot;breach&quot;. You can have multiple indexes for each breach, but I feel like one location is easier in the long run to deal with.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Index Creation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-X</span><span class="token plain"> POST </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;http://localhost:7700/indexes&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  --data-binary </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    &quot;uid&quot;: &quot;breach&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    &quot;primaryKey&quot;: &quot;id&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  }&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Authorization: Bearer &lt;add master key here&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You should see the following output:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image1013-1d3abd579825111cfce8dd28b5634138.png" width="1076" height="63" class="img_ev3q"></p>
<p>Visiting the web portal, you should see the following:</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="978" height="111" class="img_ev3q"></p>
<p>We have now created the index, but have no data in the index.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-format">Data Format<a href="#data-format" class="hash-link" aria-label="Direct link to Data Format" title="Direct link to Data Format">​</a></h3>
<p>Not every breach will have the same fields. In order to make them the same you will have to format it. Linux makes that easy with tools such as <code>awk</code>, <code>sed</code>, etc. I like to write my own scripts so I can customize it to my usage.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>In Meilisearch, &quot;The primary field is a special field that must be present in all documents. Its attribute is the <a href="https://docs.meilisearch.com/learn/core_concepts/primary_key.html#primary-key-2" target="_blank" rel="noopener noreferrer"><strong>primary key</strong></a> and its value is the <a href="https://docs.meilisearch.com/learn/core_concepts/primary_key.html#document-id" target="_blank" rel="noopener noreferrer"><strong>document id</strong></a>. It uniquely identifies each document in an index, ensuring that <strong>it is impossible to have two exactly identical documents</strong> present in the same index&quot;.</p></div></div>
<p>Since we will have one index only, we have to have each primary field value be unique. An easy way to do this is to add a new column that has a number or unique Identifier. We can go from 1-X with X being the id of the last line in the breach index. Another way to do this, is to add a random string before each line:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Source: https://unix.stackexchange.com/questions/428737/how-can-i-add-random-string-for-each-line</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">awk</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">     str_generator = &quot;tr -dc &#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">:alnum:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27; &lt;/dev/urandom | head -c 6&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">     str_generator | getline random_str</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">     close(str_generator)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">     print &quot;name &quot; random_str &quot; - &quot; $0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">}&#x27;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This in my opinion adds way more overhead to a file than going from 1-X does. In addition, you can never be sure that there will not be a collision between two random strings in the long run.</p>
<p>I ended up going with something like this, but modified for each use case:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">file</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">output_file</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">${file}</span><span class="token plain">-clean.txt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">starting_number</span><span class="token operator">=</span><span class="token number">0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#12 digits should be able to store 1 trillion records;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># you could also make a custom aphabet (upper, lower, numbers) to save space.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">while</span><span class="token plain"> </span><span class="token assign-left variable environment constant" style="color:rgb(189, 147, 249);font-style:italic">IFS</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;&#x27;</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">read</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-r</span><span class="token plain"> LINE </span><span class="token operator">||</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-n</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${LINE}</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${starting_number}</span><span class="token string" style="color:rgb(255, 121, 198)">:</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${LINE}</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$output_file</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#output each line with the unique id at the beginning</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token variable punctuation" style="color:rgb(248, 248, 242);font-style:italic">((</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">starting_number</span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">+=</span><span class="token variable number" style="color:rgb(189, 147, 249);font-style:italic">1</span><span class="token variable punctuation" style="color:rgb(248, 248, 242);font-style:italic">))</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#append variable by 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">done</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${file}</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;final number </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${starting_number}</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sed</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-i</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;s/:/,/g&#x27;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$output_file</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#replace all colons with commas</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sed</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-i</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;1s/^/id,email,hash\n/&#x27;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$output_file</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">#add csv headers to the first line</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">mv</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$output_file</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">${output_file}</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain">.csv </span><span class="token comment" style="color:rgb(98, 114, 164)">#change file extension to .csv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Even if the fields are different in each file. As long as there is a unique id, it should work.</p></div></div>
<p>To add data, use the <code>POST</code> HTTP request. An example would look like the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># POST request for adding data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-X</span><span class="token plain"> POST </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;http://localhost:7700/indexes/breach/documents?primaryKey=id&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Content-Type: text/csv&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-T</span><span class="token plain"> /home/</span><span class="token operator">&lt;</span><span class="token plain">file_location</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Authorization: Bearer &lt;add master key or auth token here&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><code>-T</code> can be replaced by <code>--data-binary</code>. For big files (1Gb&lt;), <code>-T</code> ended up working for me, so I stuck with it.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="viewing-tasks">Viewing Tasks<a href="#viewing-tasks" class="hash-link" aria-label="Direct link to Viewing Tasks" title="Direct link to Viewing Tasks">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Tasks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-X</span><span class="token plain"> GET </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;http://localhost:7700/tasks&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Authorization: Bearer &lt;add master key or auth token here&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="deleting-data">Deleting Data<a href="#deleting-data" class="hash-link" aria-label="Direct link to Deleting Data" title="Direct link to Deleting Data">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Data Deletion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-X</span><span class="token plain"> DELETE </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;http://localhost:7700/indexes/breach/documents&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Authorization: Bearer &lt;add master key or auth token here&gt;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="elk-stack">ELK Stack<a href="#elk-stack" class="hash-link" aria-label="Direct link to ELK Stack" title="Direct link to ELK Stack">​</a></h2>
<p><a href="https://www.elastic.co/what-is/elk-stack" target="_blank" rel="noopener noreferrer">From the website</a>, &quot;Elasticsearch is a search and analytics engine. Logstash is a server‑side data processing pipeline that ingests data from multiple sources simultaneously, transforms it, and then sends it to a &quot;stash&quot; like Elasticsearch. Kibana lets users visualize data with charts and graphs in Elasticsearch.&quot;</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-1">Setup<a href="#setup-1" class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-logstash-and-kibana-elastic-stack-on-ubuntu-22-04</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-fsSL</span><span class="token plain"> https://artifacts.elastic.co/GPG-KEY-elasticsearch </span><span class="token operator">|</span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> gpg </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--dearmor</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-o</span><span class="token plain"> /usr/share/keyrings/elastic.gpg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;deb [signed-by=/usr/share/keyrings/elastic.gpg] https://artifacts.elastic.co/packages/7.x/apt stable main&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">tee</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-a</span><span class="token plain"> /etc/apt/sources.list.d/elastic-7.x.list</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Elasticsearch</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> elasticsearch</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># sed can be used to replace instead of nano to replace</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># #network.host: 192.168.1.1 -&gt; network.host: localhost</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">nano</span><span class="token plain"> /etc/elasticsearch/elasticsearch.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl start elasticsearch</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">enable</span><span class="token plain"> elasticsearch</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># To test if Elasticsearch is up</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-X</span><span class="token plain"> GET </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;localhost:9200&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Kibana</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> kibana</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">enable</span><span class="token plain"> kibana</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl start kibana</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># sed can be used to replace instead of nano to replace</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">nano</span><span class="token plain"> /etc/kibana/kibana.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Remove the # before the following:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># server.port: 5601</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># server.host: &quot;your-hostname&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># elasticsearch.hosts: [&quot;http://localhost:9200&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl start kibana</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">enable</span><span class="token plain"> kibana</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> ufw allow </span><span class="token number">5601</span><span class="token plain">/tcp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># To test if Kibana is up</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">http://localhost:5601</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Logstash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> logstash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl start logstash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">enable</span><span class="token plain"> logstash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl status logstash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Filebeat</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> filebeat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># sed can be used to replace instead of nano to replace</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">nano</span><span class="token plain"> /etc/filebeat/filebeat.yml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Remove the # before one OR the other in following (based on where you want to output):</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># output.elasticsearch:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)"># Array of hosts to connect to.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)"># hosts: [&quot;localhost:9200&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># output.logstash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     </span><span class="token comment" style="color:rgb(98, 114, 164)"># hosts: [&quot;localhost:5044&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl start filebeat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">enable</span><span class="token plain"> filebeat</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>I would recommend using <a href="https://www.postman.com/" target="_blank" rel="noopener noreferrer">Postman</a>, which makes it easier to make HTTP requests with a web interface:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image13131-802c2baf6710bb6c6b86cabae6968384.png" width="888" height="842" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-index-and-adding-data-1">Creating an Index and adding Data:<a href="#creating-an-index-and-adding-data-1" class="hash-link" aria-label="Direct link to Creating an Index and adding Data:" title="Direct link to Creating an Index and adding Data:">​</a></h3>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Although I will be using Postman, I will be adding the full commands I use below.</p></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// https://linuxhint.com/elasticsearch-create-index/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-X</span><span class="token plain"> PUT </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;localhost:9200/breach?pretty&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># `pretty` makes the output look better</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" src="/assets/images/image521-0dd85d99d33827581f1e3e4e35b91578.png" width="1011" height="414" class="img_ev3q"></p>
<p>I then started to clean up a breach I have in a CSV format, so then I can upload it to Elasticsearch. I only had two fields<!-- -->:email<!-- --> and pain-text password. I was able to upload it to Elasticsearch using the following Logstash config:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// breach.conf</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">input </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    file </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        path =&gt; </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&lt;full path to breach csv file&gt;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        start_position =&gt; beginning</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">filter </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    csv </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        columns =&gt; </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Email&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Password&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        separator =&gt; </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;,&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">output </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    stdout</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        codec =&gt; rubydebug</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     elasticsearch </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        action =&gt; </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;index&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        hosts =&gt; </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;127.0.0.1:9200&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        index =&gt; </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;breach&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Run Logstash:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Logstash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> /usr/share/logstash/bin/logstash </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-f</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">conf </span><span class="token function" style="color:rgb(80, 250, 123)">file</span><span class="token plain"> location</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># sudo is needed to bypass an error where is was unable to read a file</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Uploading millions of records took a while. After this, I created an index pattern in Kibana (<strong>Stack Management</strong> -&gt; <strong>Index patterns</strong> -&gt; <strong>Create index pattern</strong>). I chose the name of the index in Elasticsearch I already had made (&quot;breach&quot;).</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image1211-eabca51c590cbca0f8e74daeb022ffeb.png" width="958" height="296" class="img_ev3q"></p>
<p>After the index pattern is created, the following can be seen when the &quot;breach&quot; index pattern is clicked on:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image351-f116214c57b18f280c706dbde9f2677e.png" width="1012" height="751" class="img_ev3q"></p>
<p>The data is now visible in <strong>Discover</strong> under <strong>Analytics:</strong></p>
<p><img decoding="async" loading="lazy" src="/assets/images/image111-cdd9e28102cc6d87a0e5be2d0b60bd2f.png" width="1278" height="654" class="img_ev3q"></p>
<p>The data is now searchable through the web UI. The data is also searchable through postman or command line as well:</p>
<p><img decoding="async" loading="lazy" src="/assets/images/image26-e255072b98a1601481ef1d561ce4d0e1.png" width="1192" height="382" class="img_ev3q"></p>
<p>You can go all out with Kibana dashboards with statistics and graphs on emails, passwords, etc. but that is out of the scope of this blog.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommendations">Recommendations<a href="#recommendations" class="hash-link" aria-label="Direct link to Recommendations" title="Direct link to Recommendations">​</a></h2>
<ul>
<li>Name all breaches in the following syntax <code>breach_&lt;name of breach&gt;</code>
<ul>
<li>You can then use 1 index for all breaches, but also have them have their own index.</li>
</ul>
</li>
<li>Clean data to one format<!-- -->
<ul>
<li>This way all the data is organized (I use CSV, with the &quot;,&quot; as the delimiter)</li>
</ul>
</li>
<li>Save backups of the unedited breach<!-- -->
<ul>
<li>There is a chance that your clean-up might have missed a password or another field</li>
<li>Also, you can start over from square one in case the data gets corrupted</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="statistics">Statistics<a href="#statistics" class="hash-link" aria-label="Direct link to Statistics" title="Direct link to Statistics">​</a></h2>
<table><thead><tr><th>grep -i</th><th>ripgrep -aFiN</th><th>Search Engine</th><th>File Size (Raw)</th></tr></thead><tbody><tr><td>0.038s</td><td>0.028s</td><td>0.029s (Meilisearch)</td><td>122 MB</td></tr><tr><td>16.681s</td><td>9.564s</td><td>983ms (Meilisearch)</td><td>6.6 GB</td></tr><tr><td>22.303s</td><td>28.367s</td><td>883ms (Elasticsearch)</td><td>9.4 GB</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The last Elasticsearch data was searched on about 313,900,000 documents. 9.4 GB of raw data ended up being 65.1 GB of indexed data.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sources">Sources<a href="#sources" class="hash-link" aria-label="Direct link to Sources" title="Direct link to Sources">​</a></h2>
<ul>
<li><a href="https://phoenixnap.com/kb/how-to-install-elk-stack-on-ubuntu" target="_blank" rel="noopener noreferrer">https://phoenixnap.com/kb/how-to-install-elk-stack-on-ubuntu</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-logstash-and-kibana-elastic-stack-on-ubuntu-22-04" target="_blank" rel="noopener noreferrer">https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-logstash-and-kibana-elastic-stack-on-ubuntu-22-04</a></li>
<li><a href="https://linuxhint.com/elasticsearch-create-index/" target="_blank" rel="noopener noreferrer">https://linuxhint.com/elasticsearch-create-index/</a></li>
<li><a href="https://levelup.gitconnected.com/load-csv-data-into-elasticsearch-fdb562a7abd9" target="_blank" rel="noopener noreferrer">https://levelup.gitconnected.com/load-csv-data-into-elasticsearch-fdb562a7abd9</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/open-source-intelligence/breach-data/leveraging-breach-data"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Leveraging Breach Data</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/open-source-intelligence/breach-data/breach-data-infrastructure"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Breach Data Infrastructure</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#background" class="table-of-contents__link toc-highlight">Background</a></li><li><a href="#search-engines" class="table-of-contents__link toc-highlight">Search Engines</a></li><li><a href="#meilisearch" class="table-of-contents__link toc-highlight">Meilisearch</a><ul><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a></li><li><a href="#creating-an-index-and-adding-data" class="table-of-contents__link toc-highlight">Creating an Index and adding Data</a></li><li><a href="#data-format" class="table-of-contents__link toc-highlight">Data Format</a></li><li><a href="#viewing-tasks" class="table-of-contents__link toc-highlight">Viewing Tasks</a></li><li><a href="#deleting-data" class="table-of-contents__link toc-highlight">Deleting Data</a></li></ul></li><li><a href="#elk-stack" class="table-of-contents__link toc-highlight">ELK Stack</a><ul><li><a href="#setup-1" class="table-of-contents__link toc-highlight">Setup</a></li><li><a href="#creating-an-index-and-adding-data-1" class="table-of-contents__link toc-highlight">Creating an Index and adding Data:</a></li></ul></li><li><a href="#recommendations" class="table-of-contents__link toc-highlight">Recommendations</a></li><li><a href="#statistics" class="table-of-contents__link toc-highlight">Statistics</a></li><li><a href="#sources" class="table-of-contents__link toc-highlight">Sources</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright"> <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="http://www.harisqazi.com">Portfolio</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="http://www.harisqazi.com">Haris Qazi</a> is licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">Creative Commons Attribution 4.0 International<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg" alt=""></a></p> </div></div></div></footer></div>
</body>
</html>